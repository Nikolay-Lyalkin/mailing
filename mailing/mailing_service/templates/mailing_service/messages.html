<!-- messages.html -->
{% extends 'mailing_service/base.html' %}

{% block title %} Письма {% endblock %}

{% block content %}

<h1 class="text-center margin-top-main">Письма</h1>
<div class="row">
    {% for message in messages %}
    <div class="col-3 d-flex justify-content-evenly" style="margin-bottom:20px">
        <div class="card text-center" style="width: 300px;">
            <h6 class="card-header"> {{ message.topic_name }} </h6>
            <div class="card-body">
                <h6 class="card-title"> {{ message.topic_message }} </h6>
                <p class="card-text"> {{ message.message | truncatechars:1000 }} </p>
                <a href="openModal" class="btn btn-outline-primary" data-bs-toggle="modal"
                   data-bs-target="#detail_message">Посмотреть</a>
                {% include 'mailing_service/detail_message.html' %}
                <a href="{% url 'mailing_service:update_message_views' message.pk %}"
                   class="btn btn-outline-primary">Редактировать</a>
                <a href="openModal" class="btn btn-outline-danger"
                   style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: 6.50rem; --bs-btn-font-size: .75rem;"
                   data-bs-toggle="modal"
                   data-bs-target="#delete_message">Удалить</a>
                {% include 'mailing_service/delete_message.html' %}

            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}